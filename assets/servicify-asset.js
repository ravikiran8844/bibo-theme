!function(){var t;t=function(){async function t(){let t=function t(e){let o;if(e&&(o=document.querySelector(e)),!o){let n=document.querySelectorAll('form[action*="cart"]');for(let a of n){let i=a.querySelector('button[type="submit"], input[type="submit"]');i&&(o=i)}}if(!o)for(let r of document.querySelectorAll("button"))r.textContent.toLowerCase().includes("add to cart")&&!r.classList.contains("no-js")&&(o=r);if(!o)for(let s of document.querySelectorAll("button"))s.textContent.toLowerCase().includes("add to basket")&&!s.classList.contains("no-js")&&(o=s);return o}();try{if(t){let e;if(ShopifyAnalytics.meta.product){let o=await fetch(`https://servicify-appointments.herokuapp.com/api/products/${ShopifyAnalytics.meta.product.id}/events?variantId=${ShopifyAnalytics.meta.selectedVariantId}`);e=await o.json()}else if(ShopifyAnalytics.meta.selectedVariantId){let n=await fetch(`https://servicify-appointments.herokuapp.com/api/variants/${ShopifyAnalytics.meta.selectedVariantId}/events`);e=await n.json()}if(e&&e.isActive){t.setAttribute("data-original-text",t.innerText),t.setAttribute("disabled",!0),t.setAttribute("data-servicify-atc",!0),t.innerText="Loading Available Slots";let a=function t(e){let o=document.querySelector(void 0);if(!o)for(let n of document.querySelectorAll("button"))n.textContent.toLowerCase().includes("buy now")&&!n.classList.contains("no-js")&&(o=n);if(!o)for(let a of document.querySelectorAll("button"))a.textContent.toLowerCase().includes("buy it now")&&!a.classList.contains("no-js")&&(o=a);return o||(o=document.querySelector(".shopify-payment-button")),o}();a&&(a.style.display="none")}else console.log("This product does not have an event associated with it.")}else console.log("No add to cart button found.");window.SERVICIFY_HAS_UPDATED_BUTTON=!0}catch(i){console.log("Servicify: Caught an error when trying to determine the event. This error was caught so it should not affect other 3rd party apps on this page.",i)}}t()},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)}();